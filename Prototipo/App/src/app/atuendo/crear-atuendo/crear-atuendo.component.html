<script>
  function changeColor(this) {
  }

</script>


<div *ngIf="llegoUsuario == true && llegoPrendas == true" class="wrapper">
  <div class="side-bar">
    <div class="img-box">
      <img src="../../assets/images/SmartCloset.png" alt="SC...">
    </div>
    <div class="user-box">
      <div class="user-image">
        <a><i class="fas fa-wifi"></i></a>
      </div>
      <div class="user-name">
        <p>{{user.nickname}}</p>
      </div>
    </div>
    <div class="options-box">
      <div class="config-box">
        <a [routerLink]="['/perfil']"><i class="fas fa-user"></i></a>
      </div>
      <div class="clima-box">
        <a [routerLink]="['/ver-clima']"><i class="fas fa-cloud"></i></a>
      </div>
    </div>
    <div class="cont-box">
      <div class="generate-box">
        <a [routerLink]="['/generar-atuendo']"><img src="../../assets/images/GenerarAtuendo.png" alt=""></a><br>
        <a [routerLink]="['/generar-atuendo']">Generar atuendo</a>
      </div>
      <div class="closet-box">
        <a [routerLink]="['/mi-armario']"><img src="../../assets/images/MiArmario.png" alt=""></a>
        <a [routerLink]="['/mi-armario']">Mi armario</a>
      </div>
      <div class="favorite-box">
        <a [routerLink]="['/favoritos']"><img src="../../assets/images/Favorito.png" alt=""></a>
        <a [routerLink]="['/favoritos']">Favoritos</a>
      </div>
      <div class="history-box">
        <a [routerLink]="['/menu-atuendos']"><img src="../../assets/images/GestionarAtuendo.png" alt=""></a>
        <a [routerLink]="['/menu-atuendos']">Gestionar atuendos</a>
      </div>
    </div>
  </div>
  <div class="content">
    <div class="title">
      <img src="../../../assets/images/GestionarAtuendo.png" alt="Star...">
      <h2>Crear mi Atuendo</h2>
    </div>
    <div class="panel-box">
      <h2>Filtra tus prendas</h2>
      <select [(ngModel)]="seccionSelected" (change)="displayPrendas()">
        <option selected disabled>Selecciona una secci√≥n</option>
        <option>Superior</option>
        <option>Inferior</option>
        <option *ngIf="user.genero == 'Femenino'">Vestido</option>
        <option>Zapato</option>
        <option>Accesorio</option>
      </select>
    </div>
    <div *ngIf="escogidas.length == 0" class="msg-agregar">
      {{message}}
    </div>
    <div *ngIf="escogidas.length > 0" class="atuendo-box">
      <div class="prendas-box" *ngFor="let prenda of escogidas">
        <div class="prenda-escogida">
          <div class="img-prenda">
            <img src="{{prenda.url}}" alt="Prenda...">
          </div>
          <div class="btn-prenda">
            <button (click)="eliminarPrenda(prenda.id)" class="btn-eliminar"></button>
          </div>
        </div>
      </div>
      <div class="btn-agregar">
        <button (click)="crearAtuendo()">Crear Atuendo</button>
      </div>
      <div class="msg-error">
        {{message}}
      </div>
    </div>
    <div class="display-box">
      <div [ngClass]="{'box':prenda.selected == false, 'favorite': prenda.selected == false && prenda.favorito == true, 'assigned': prenda.selected == true}" *ngFor="let prenda of filter">
        <div class="image">
          <img (click)="agregarPrenda(prenda)" src="{{prenda.url}}" alt="Prenda...">
        </div>
        <div class="desc-box">
          <div class="form-box">
            <a><i class="fab fa-black-tie"></i></a>
            <h2>{{prenda.formalidad}}/5</h2>
          </div>
          <div class="abrigo-box">
            <a><i class="fas fa-snowflake"></i></a>
            <h2>{{prenda.abrigo}}/5</h2>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
